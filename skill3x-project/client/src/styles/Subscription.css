/* ... [Previous CSS Content mostly remains same, updated sections below] ... */

/* VARIABLES & GLOBAL */
:root {
    --blue-primary: #2563eb;
    --purple-primary: #8b5cf6;
    --green-primary: #10b981;
    --text-dark: #111827;
    --text-light: #6b7280;
    --bg-color: #f9fafb;
    --card-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

body {
    margin: 0;
    font-family: 'Inter', system-ui, sans-serif;
    background-color: var(--bg-color);
    height: 100vh;
    overflow: hidden;
}

.subscription-page {
    padding: 20px 20px;
    text-align: center;
    height: 100%;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
}

/* ... [Header and Plans Container Styles Unchanged] ... */
.header-section { margin-bottom: 20px; }
.header-section h1 { font-size: 2rem; color: var(--text-dark); margin: 0 0 5px 0; font-weight: 800; }
.header-section p { color: var(--text-light); font-size: 1rem; margin: 0; }

.plans-container {
    display: flex; justify-content: center; gap: 20px;
    margin-top: 10px; flex-grow: 1; align-items: flex-start;
}

/* ... [Card Styles Unchanged] ... */
.plan-card {
    background: white; width: 320px; border-radius: 12px;
    padding: 0; box-shadow: var(--card-shadow);
    position: relative; transition: transform 0.3s ease;
    display: flex; flex-direction: column; border: 1px solid #e5e7eb;
}
.plan-card:hover { transform: translateY(-8px); }
.plan-card.blue { border-top: 5px solid var(--blue-primary); }
.plan-card.purple { border-top: 5px solid var(--purple-primary); border-color: #ddd9f3; }
.plan-card.green { border-top: 5px solid var(--green-primary); }

.best-value-badge {
    position: absolute; top: -15px; left: 50%; transform: translateX(-50%);
    background-color: #facc15; color: #000; font-size: 0.75rem;
    font-weight: 800; text-transform: uppercase; padding: 6px 16px;
    border-radius: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); z-index: 10;
}

.card-header { padding: 20px 20px 10px 20px; text-align: center; }
.plan-icon { font-size: 1.8rem; margin-bottom: 5px; }
.card-header h3 { margin: 0; font-size: 1.15rem; color: var(--text-dark); }
.card-header .subtitle { color: var(--text-light); font-size: 0.85rem; margin-top: 2px; }

.price-section { text-align: center; padding: 5px 20px; }
.price-section h2 { font-size: 2.2rem; margin: 5px 0; color: var(--text-dark); }
.price-section .avg-cost { display: block; font-size: 0.85rem; color: var(--text-light); }
.price-section .best-value-text { font-size: 0.75rem; color: #854d0e; }

.divider { height: 1px; background-color: #f3f4f6; margin: 15px 0; }

.features-list { list-style: none; padding: 0 25px; margin: 0 0 20px 0; text-align: left; flex-grow: 1; }
.features-list li { display: flex; align-items: flex-start; margin-bottom: 8px; font-size: 0.9rem; color: #4b5563; line-height: 1.3; }
.features-list li .check-icon { margin-right: 8px; font-weight: bold; }
.plan-card.blue .check-icon { color: var(--blue-primary); }
.plan-card.purple .check-icon { color: var(--purple-primary); }
.plan-card.green .check-icon { color: var(--green-primary); }
.features-list li.disabled { color: #9ca3af; text-decoration: line-through; }
.features-list li.disabled .check-icon { color: #9ca3af; text-decoration: none; }

.card-footer { padding: 0 25px 25px 25px; }
.action-btn { width: 100%; padding: 12px; border: none; border-radius: 8px; font-weight: 600; font-size: 0.95rem; cursor: pointer; color: white; transition: opacity 0.2s; }
.action-btn:hover { opacity: 0.9; }
.plan-card.blue .action-btn { background-color: var(--blue-primary); }
.plan-card.purple .action-btn { background-color: var(--purple-primary); }
.plan-card.green .action-btn { background-color: var(--green-primary); }

/* --- SIDE PANEL --- */
.side-panel-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.5); z-index: 999;
    opacity: 0; visibility: hidden; transition: all 0.3s;
}
.side-panel-overlay.open { opacity: 1; visibility: visible; }

.side-panel {
    position: fixed; top: 0; right: 0;
    width: 100%; max-width: 420px; height: 100vh;
    background: white; z-index: 1000;
    transform: translateX(100%); transition: transform 0.3s ease-in-out;
    display: flex; flex-direction: column;
}
.side-panel.open { transform: translateX(0); }

.panel-header { padding: 20px; border-bottom: 1px solid #eee; display: flex; align-items: center; gap: 15px; }
.back-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; }
.panel-content { display: flex; flex-direction: column; height: 100%; }
.scrollable-content { flex: 1; overflow-y: auto; padding: 20px; }

/* --- UPDATED COUPON SECTION --- */
.coupon-section { background: #fff7cd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #faeab3; }
.coupon-header { font-weight: 600; color: #856404; display: flex; align-items: center; gap: 8px; margin-bottom: 10px; }
.coupon-input-group { display: flex; gap: 10px; margin-bottom: 10px; }
.coupon-input-group input { flex: 1; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
.coupon-input-group button { background: black; color: white; border: none; padding: 0 15px; border-radius: 4px; cursor: pointer; }
.success-msg { color: green; font-size: 0.9rem; margin-top: 5px; margin-bottom: 0; }

.view-coupons-btn {
    background: none; border: none; color: #2563eb;
    font-size: 0.85rem; cursor: pointer; text-decoration: underline;
    padding: 0; margin-bottom: 5px;
}

.coupons-list-container {
    background: white; border: 1px solid #ddd; border-radius: 6px;
    margin-top: 8px; overflow: hidden;
}
.coupon-item {
    padding: 10px; border-bottom: 1px solid #eee; cursor: pointer;
    display: flex; justify-content: space-between; align-items: center;
}
.coupon-item:last-child { border-bottom: none; }
.coupon-item:hover { background-color: #f9fafb; }
.coupon-item .code { font-weight: bold; color: #333; font-size: 0.9rem; }
.coupon-item .desc { color: #666; font-size: 0.8rem; }

/* --- FORM INPUTS --- */
.details-section h4 { margin: 0 0 10px 0; color: #333; }
.details-section input { width: 100%; padding: 12px; margin-bottom: 5px; border: 1px solid #e5e7eb; border-radius: 6px; box-sizing: border-box; }
.details-section input.error { border-color: red; }
.error-text { color: red; font-size: 0.8rem; margin-top: 0; margin-bottom: 15px; }

/* --- ADD-ON SECTION (Checkboxes) --- */
.addon-section { margin-bottom: 25px; margin-top: 15px; }
.checkbox-container {
    display: flex; align-items: center; cursor: pointer;
    background: #f0f9ff; padding: 12px; border-radius: 8px;
    border: 1px solid #bae6fd;
}
.checkbox-container input { width: auto; margin-right: 12px; cursor: pointer; transform: scale(1.2); }
.addon-text { display: flex; flex-direction: column; }
.addon-title { font-weight: 600; font-size: 0.95rem; color: #0c4a6e; }
.addon-price { font-size: 0.85rem; color: #0284c7; }

/* --- BILL BREAKDOWN --- */
.bill-breakdown .row { display: flex; justify-content: space-between; margin-bottom: 10px; color: #555; }
.bill-breakdown .discount { color: #10b981; }
.bill-breakdown .total { font-weight: bold; color: black; font-size: 1.1rem; }
.divider-line { height: 1px; background: #eee; margin: 15px 0; }

.panel-footer { padding: 20px; border-top: 1px solid #eee; margin-top: auto; }
.pay-btn { width: 100%; padding: 15px; background-color: #0f766e; color: white; border: none; border-radius: 8px; font-weight: bold; font-size: 1.1rem; cursor: pointer; }
.pay-btn:disabled { background-color: #ccc; }
.secure-badge { text-align: center; color: #9ca3af; font-size: 0.8rem; margin-top: 10px; }